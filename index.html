<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Donate</title>
  <style>
    body { font-family: sans-serif; padding: 1rem; }
    form { display: flex; gap: .5rem; align-items: center; }
    input, button { padding: .3rem .6rem; font-size: 1rem; }
  </style>
</head>
<body>
  <form id="donate-form">
    <label for="donation">Donate £</label>
    <input id="donation" name="donation" type="number" min="0" step="0.01" value="5.00" required />
    <button type="submit">Donate</button>
  </form>

  <script>
    const BASIC_URL = "https://kingdome.co.uk/caspergrey-nlbnl-free-download";
    const STRIPE_DONATION_URL = "https://buy.stripe.com/7sY7sN8bYeBSeV2fV6gUM00"; 

    document.getElementById("donate-form").addEventListener("submit", function(e) {
      e.preventDefault();
      const amount = parseFloat(document.getElementById("donation").value || "0");

      if (amount === 0) {
        window.location.href = BASIC_URL;
      } else if (amount < 0.30) {
        alert("Stripe requires a minimum donation of £0.30");
      } else {
        window.location.href = STRIPE_DONATION_URL;
      }
    });
  </script>
</body>
</html>
